---
title: "Getting Started with osfr"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting Started with osfr}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

[OSF](https://osf.io) from the [Center for Open Science (COS)](https://cos.io/) 
is a web application that provides free and open source project management 
support for researchers across the entire research lifecycle. As a collaboration 
tool, OSF helps researchers work on projects privately with a limited number of 
collaborators and make parts of their projects public, or make all the project 
publicly accessible for broader dissemination. As a workflow system, OSF enables 
connections to the many services researchers already use to streamline their 
process and increase efficiency. As a flexible repository, it can store and 
archive research data, protocols, and materials.

`osfr` is a package used to connect with the OSF API. This packages allows you 
to download files from an OSF project, upload files to an OSF project, and 
interact with files, folders, projects, and other features of OSF. More 
importantly, you can interact with OSF directly from R, allowing you to use 
OSF as part of your workflow.

This vignette will introduce you to how to login to OSF through R, how to 
download files, and how to upload files. At the end of the vignette will be a 
brief overview of the other functionality provided by `osfr`.

## Authentication

Many of the functions available in `osfr` require the user to log in to OSF. 
Instead of using your username and password, `osfr` makes use of a personal 
access token (PAT) that you create through OSF. With this PAT, you 
can download files from private projects, upload files to projects, create 
new projects, and more.

### Creating a Personal Access Token (PAT) through OSF

To create a PAT, log in to OSF through a web browser and go to the 
[OSF settings page](https://osf.io/settings/tokens/) and click the "New token" 
button. Fill out the form on the following page providing a name for the new 
token along with what access the token will allow. Once the PAT has been 
created, save it to a secure location.

*Note: Keep the token you create safe! It acts just like your username and 
password!*

### How to log in to OSF

To make use of most of the functionality of `osfr`, you will be required to 
log in to OSF using a PAT. The `login()` function can be used to login to OSF.

```{r, eval = FALSE}
login("your-personal-access-token")
```

By default, your PAT is only stored for your current session. To store your 
login across session, your PAT can be saved to the `.Renviron` file by setting 
the `store` argument to `TRUE`. 

```{r, eval = FALSE}
login("your-personal-access-token", store = TRUE)
```

### How to log out and why

To remove your PAT from the session environment, you can use the `logout()` 
function.

```{r, eval = FALSE}
logout()
```

The `logout()` function will only remove the PAT from the session environment. 
It will not remove any PAT's stored in the `.Renviron` file. Those must be 
removed manually.

Remember that your PAT acts just like your username and password! Do not leave 
your PAT in any files you plan to share with others. This includes leaving your 
PAT in a file that is uploaded to a file sharing or version control platform 
(GitHub, BitBucket, Google Drive, etc.).

## Interacting with OSF and GUIDs

Every project and file is assigned a [globally unique identifier (GUID)](http://help.osf.io/m/faqs/l/726460-faqs#what-s-a-globally-unique-identifier-guid-what-metadata-is-maintained-about-them) 
on OSF. This GUID provides a stable link to the object it is assigned to. The 
GUID is used throughout the functions in `osfr` to address projects and files. 
To get the GUID, navigate to the project or file on OSF in a web browser. 
The GUID is the five character string at the end of the url for the project or 
file.

### Demo Project

A demo project for using `osfr` can be found at 
[https://osf.io/m5pds/](https://osf.io/m5pds/). The GUID for this demo project 
is "m5pds". A demo file available in this project can be found at 
[https://osf.io/5z2bh/](https://osf.io/5z2bh/). The GUID for this demo file is 
"5z2bh". 
